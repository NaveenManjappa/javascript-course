<!DOCTYPE html>
<html>
  <head>
    <title>Advanced Functions</title>
  </head>
  <body>
    <button class="js-button">Click</button>
    <script>

      const buttonEl = document.querySelector('.js-button');
      //Add event listener - we can add multiple event listeners for an event
      buttonEl.addEventListener('click',() => {
        console.log('Click');
      });

      const eventListener = () => {
        console.log('Event listener 2');
      };

      buttonEl.addEventListener('click',eventListener);

      buttonEl.removeEventListener('click',eventListener);

      

      function greeting() {
        console.log('Hello');
      }

      greeting();

      //Functions are values which can be saved in a variable
      //Function without a name is called Anonymous function
      //Hoisting does not work when a function is saved in a variable
      const function1 = function () {
        console.log('Hello2');
      };

      function1();
      console.log(typeof function1);

      const obj1 = {
        num: 2,
        fun: function () { // this is called a method, function declared in a object as property
          console.log('Hello3');
        }
      };

      obj1.fun();

      function display(param) {
        console.log('param',param);
      }

      display(2);

      //passing function into a function
      function run(param) {
        param();
      }

      run(() => {//callback function
        console.log('Run');
      });

      setTimeout(function() {//asynchronous code, it does not block the code
        console.log('Timeout');
        console.log('Timeout2');
      },2000);

      console.log('Next line');

      const intervalId = setInterval(function() {
        console.log('Interval');
        clearInterval(intervalId);
      },3000);

      console.log('Next line2');

      

      //Loop through an array
      [
        'Make dinner',
        'Wash dishes',
        'Watch youtube'
      ].forEach( (value,index) => { //does not have continue, the same skip can be acheived through return

        if(value  === 'Wash dishes') return;
          console.log(value,index);
      });

      const regularFunction = function(param,param2) {
        console.log('Regular function');
        return 5;
      }

      regularFunction();

      //Arrow functions - they are not supported for Hoisting
      const arrowFunction = (param,param2) => {
        console.log('Hello Arrow');
        return 5;
      }
      arrowFunction();

      const oneParam = param => {
        console.log(param + 1);
      }
      oneParam(2);

      const oneLine = () => 2 + 3;
      console.log('oneLine', oneLine());

      const obj2 = {
        method: () => {
          console.log('method');
        },

        method2 () { //Shorthand method
          console.log('method2');
        }
      };

      //Array methods
      //Filter method - filter an array based on the return value
     console.log('Filter',[1, -3, 5].filter((val,index) => {
        return val >= 0;//it should return truthy or falsy values
      }));

      //Map method - transform an array into another array based on return value
     console.log('map', [1, 1, 3].map((val,index) => {
        return val * 10;
      }));

      console.log('map2', [1, 1, 3].map(val => val * 10 ));

      //Closure - if a function has access to a value then it will always have access to that value, value gets packaged together with the function


    </script>
  </body>
</html>
